<!doctype html>

<html lang="en">

<head>
  <meta charset="utf-8">

  <title>autocomplete snippet -- geocode.city</title>
  <meta name="description" content="geocode.city -- city-only geocoding">
  <meta name="author" content="geocode.city">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <link href="dist/base.min.css" type="text/css" rel="stylesheet">
  <link href="https://fonts.gstatic.com/" rel="preconnect">
  <style>
    .geocode-city__autocomplete-input {
      width: 50vw
    }

    .geocode-city__autocomplete-container {
      border: 1px dotted gray;
      border-radius: 1px;
    }

    .geocode-city__autocomplete-item-highlighted {
      background: lightblue;
    }

    .geocode-city__city-location {
      color: gray;
    }

    .hidden {
      visibility: hidden;
    }
  </style>
</head>

<body class="markdown">
  <main class="one-column">
    <h1>Autocomplete Snippet</h1>
    <p>
      <a href="/">back to index</a>
    </p>
    <p>
      For convenience, we provide a simple, unstyled, "drop-it-in-your-page" snippet. Check out this demo:
    </p>
    <article>
      <div id="geocode-city-autocomplete"></div>
      <h2 id="res-title" class="hidden">You selected:</h3>
        <pre id="results"></pre>
        <script src="https://cdn.jsdelivr.net/gh/geocode-city/autocomplete@0.0.1.0/dist/geocode_city.min.js"></script>
        <script>
          let el = document.getElementById("geocode-city-autocomplete");
          let res = document.getElementById("results");
          let title = document.getElementById("res-title");
          el.addEventListener("citySelected", function (e) {
            title.classList.remove("hidden");
            res.textContent = JSON.stringify(e.detail, undefined, 2);
          });   
        </script>
    </article>
    <article>
      <h2>Usage</h2>
      <p>
        You just need to include the snippet, and provide an element with id <code>geocode-city-autocomplete</code>. You
        can subscribe
        to the <code>citySelected</code> and <code>lookupFailed</code> events for custom handling of selections and
        errors, respectively. For example, in this page, we subscribe to
        `citySelected`
        to show you the full <code>city</code> object of each city you select.
      </p>
      <p>You can inspect the source of this page to check it out, but here's a copy/paste for your quick reference:</p>
      <!-- HTML generated using hilite.me -->
      <div
        style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
        <pre style="margin: 0; line-height: 125%">&lt;div id=<span style="color: #a31515">&quot;geocode-city-autocomplete&quot;</span>&gt;&lt;/div&gt;
&lt;h2 id=<span style="color: #a31515">&quot;res-title&quot;</span> class=<span style="color: #a31515">&quot;hidden&quot;</span>&gt;You selected:&lt;/h3&gt;
&lt;pre id=<span style="color: #a31515">&quot;results&quot;</span>&gt;
&lt;/pre&gt;
&lt;script src=<span style="color: #a31515">&quot;https://cdn.jsdelivr.net/gh/geocode-city/autocomplete@0.0.1.0/dist/geocode_city.min.js&quot;</span>&gt;&lt;/script&gt;
&lt;script&gt;
<span style="color: #0000ff">let</span> el = document.getElementById(<span style="color: #a31515">&quot;geocode-city-autocomplete&quot;</span>);
<span style="color: #0000ff">let</span> res = document.getElementById(<span style="color: #a31515">&quot;results&quot;</span>);
<span style="color: #0000ff">let</span> title = document.getElementById(<span style="color: #a31515">&quot;res-title&quot;</span>);
el.addEventListener(<span style="color: #a31515">&quot;citySelected&quot;</span>, <span style="color: #0000ff">function</span> (e) {
  title.classList.remove(<span style="color: #a31515">&quot;hidden&quot;</span>);
  res.textContent = JSON.stringify(e.detail, <span style="color: #0000ff">undefined</span>, 2);
});   
&lt;/script&gt;
</pre>
      </div>

      <br>
      <h2>Styling</h2>
      <p>TODO. In the meantime, check out the <a href="https://github.com/geocode-city/autocomplete">source</a>: all markup
        that the snippet generates has the <code>geocode-city__</code> prefix.</p>
    </article>
  </main>
</body>

</html>
